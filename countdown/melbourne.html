<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‚úàÔ∏è Melbourne ‚úàÔ∏è</title>
    <link rel="stylesheet" href="../styles.css">
    <style>
        body {
            background-color: #87CEEB;
            color: #FF69B4;
            font-family: "Comic Sans MS", "Comic Sans", cursive;
            text-align: center;
            padding: 0;
            margin: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            text-shadow: 3px 3px 0px #FFD700, 6px 6px 0px #FF1493;
            animation: rainbow 5s infinite;
        }

        @keyframes rainbow {
            0% { color: #FF69B4; }
            25% { color: #FFD700; }
            50% { color: #FF1493; }
            75% { color: #FF69B4; }
            100% { color: #FFD700; }
        }

        #timer {
            font-size: 3rem;
            padding: 20px;
            background-color: #FFB6C1;
            border: 10px dotted #FF1493;
            box-shadow: 10px 10px 0px #FFD700;
            margin: 2rem;
            border-radius: 20px;
        }

        .map-container {
            position: relative;
            width: 800px;
            height: 400px;
            margin: 2rem;
            background-color: #B0E0E6;
            border: 5px solid #4682B4;
            border-radius: 20px;
            overflow: hidden;
        }

        #plane {
            position: absolute;
            width: 50px;
            height: 50px;
            transform: rotate(15deg);
            transition: all 1s ease-in-out;
        }        

        .location {
            position: absolute;
            font-size: 1.5rem;
            font-weight: bold;
        }

        #start {
            left: 10%;
            top: 30%;
        }

        #end {
            right: 10%;
            bottom: 30%;
            font-size: 5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            transform-origin: center;
        }

        .speech-bubble {
            position: absolute;
            left: 50%;
            top: 20px;
            transform: translateX(-50%);
            background: white;
            border-radius: 20px;
            padding: 15px;
            font-size: 1.2rem;
            width: 250px;
            z-index: 1000;
            border: 3px solid #4682B4;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .speech-bubble:after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border: 15px solid transparent;
            border-top-color: white;
            border-bottom: 0;
            z-index: 1001;
        }

        .speech-bubble:before {
            content: '';
            position: absolute;
            bottom: -19px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border: 17px solid transparent;
            border-top-color: #4682B4;
            border-bottom: 0;
            z-index: 1000;
        }

        .cloud {
            position: absolute;
            font-size: 3rem;
            animation: float 10s infinite ease-in-out;
            opacity: 0.7;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); }
            50% { transform: translateY(-20px) translateX(20px); }
        }

        @keyframes flip {
            0% { transform: scaleX(1); }
            100% { transform: scaleX(-1); }
        }
    </style>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 32 32%22><text y=%2224%22 font-size=%2232%22>üêü</text></svg>">
</head>
<body>
    <div class="navbar">
        <a href="../index.html" class="navbar-item">Home</a>
        <a href="../projects.html" class="navbar-item">Projects</a>
        <a href="../experiments.html" class="navbar-item">Experimentations!!!</a>
        <a href="../to-do.html" class="navbar-item">TO:DO</a>
    </div>
    <main>
        <h1>üõ´ Melbourne! üêß</h1>
        <div id="timer">Loading...</div>
        <div class="map-container">
            <div class="speech-bubble">I'm just a little penguin... for now!</div>
            <div id="start" class="location">üè†</div>
            <div id="end" class="location">üêß</div>
            <div style="position: absolute; top: 20%; left: 20%" class="cloud">‚òÅÔ∏è</div>
            <div style="position: absolute; top: 60%; left: 40%" class="cloud">‚òÅÔ∏è</div>
            <div style="position: absolute; top: 30%; left: 70%" class="cloud">‚òÅÔ∏è</div>
            <img id="plane" src="/assets/images/airplane.svg" alt="Airplane" />
        </div>
    </main>

    <script>
        const countdownDate = new Date("December 22, 2024 00:00:00").getTime();
        const startDate = new Date("November 4, 2024").getTime();
        const totalDistance = countdownDate - startDate;
        let pestoClickCount = 0;
        let isFlipped = false;
        
        function updatePlanePosition() {
            const now = new Date().getTime();
            const timeLeft = countdownDate - now;
            const progress = 1 - (timeLeft / totalDistance);
            
            const plane = document.getElementById('plane');
            const startX = 100;
            const startY = 120;
            const endX = 650;
            const endY = 280;
            
            const currentX = startX + (endX - startX) * progress;
            const currentY = startY + (endY - startY) * progress;
            
            plane.style.left = `${currentX}px`;
            plane.style.top = `${currentY}px`;
        }

        function random() {
            const colors = ['#87CEEB', '#98FB98', '#DDA0DD', '#F0E68C'];
            document.body.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        }

        const pestoPhrases = [
            "Every click makes me stronger! üí™",
            "I'm becoming too powerful! ü¶æ",
            "FEAR THE MEGA PENGUIN! üëë",
            "Is this what steroids feel like? üèãÔ∏è‚Äç‚ôÇÔ∏è",
            "I ate ALL the fish! üêü",
            "Who's a little penguin NOW? üòà",
            "I can see my house from up here! üè†",
            "Melbourne isn't ready for this! üåÜ",
            "Warning: Pesto has exceeded maximum size! ‚ö†Ô∏è",
            "I'm pretty sure this isn't normal... ü§î"
        ];

        const pesto = document.getElementById('end');
        const speechBubble = document.querySelector('.speech-bubble');

        pesto.addEventListener('click', () => {
            pestoClickCount++;
            
            isFlipped = !isFlipped;
            
            const newSize = 5 + (pestoClickCount * 1.0);
            pesto.style.fontSize = `${newSize}rem`;
            
            const flipTransform = isFlipped ? 'scaleX(-1)' : 'scaleX(1)';
            pesto.style.transform = flipTransform;
            
            const bottomPos = Math.max(30 - (pestoClickCount * 4), 0);
            const rightPos = Math.max(10 - (pestoClickCount * 2), 0);
            pesto.style.bottom = `${bottomPos}%`;
            pesto.style.right = `${rightPos}%`;
            
            let phrase;
            if (pestoClickCount <= pestoPhrases.length) {
                phrase = pestoPhrases[pestoClickCount - 1];
            } else {
                phrase = "I'M UNSTOPPABLE NOW! üåé";
            }
            speechBubble.textContent = phrase;
        });

        const x = setInterval(function() {
            const now = new Date().getTime();
            const distance = countdownDate - now;
            
            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);
            
            document.getElementById("timer").innerHTML = 
                days + "d " + hours + "h " + minutes + "m " + seconds + "s ";
            
            updatePlanePosition();
            
            if (distance < 0) {
                clearInterval(x);
                document.getElementById("timer").innerHTML = "WELCOME TO MELBOURNE! üêß";
                random();
            }
        }, 1000);

        document.querySelectorAll('.cloud').forEach(cloud => {
            cloud.addEventListener('click', () => {
                random();
                cloud.style.transform = 'scale(1.2)';
                setTimeout(() => cloud.style.transform = 'scale(1)', 200);
            });
        });
    </script>
</body>
</html>